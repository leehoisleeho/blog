---
title: JS数据类型（上）
date: 2020-10-30 15:41:16
tags: javascript
toc: true
cover: ./img/javascript.jpg
---
## __如何存字符__
内存上只能存`0`和`1`所以把10进制数，存成2进制数，就可以把数字存到内存里面。
存完数字以后，然后要思考怎么存字母，0~127（2的8次方）把所有字母和数字和符号，如下图
<div align="center"><img src="./img/img1.png"></div>

1. 要考虑存汉字，中国国标局来遍号，俗称国标
2. 用16进制来(1,2,3,4,5,6,7,8,9，A，B，C，D，E，F)存汉字，从0000~FFFF来存汉字，所以汉字是2个字节
3. 后来出现生僻字和日本，韩语的文字，后来出现了「国标扩」
4. 继续扩展，把全球所有文字都收录，编号，出现了unicode，俗称万国码
5. utf-8，是对unicode的一种节约储存方式

## __数据类型__
为什么数据需要分类型呢？因为数字是数字，字符串是字符串，程序员都需要严谨。举个例子，字符串可以表示电话号码，但是数字不行，因为有些电话号码是`010`开头的，这样的话，如果用数字就会省略前面的`0`,无法正确表示电话号码.
<!--more-->
* 数值
* 字符串
* 布尔值
* undefined
* null
* 对象
* Symbol
* bigint

`数值` `字符串` `布尔值` 是三个最基本的数据类型，已经不能再细分了。对象是合成型的数据类型。

`typeof`运算符可以确定一个值到底是什么类型
```
typeof 123 //"undefined"
typeof "123" //"String"
typeof false //"boolean"
```

## __null,undefined,布尔值__
`null`和`undefined`都可以表示没有，含义是非常相似。将一个变量赋值为`null`和`undefined`，语法效果几乎没有区别。
### __细节__
1. 如果一个变量声明了，但没有赋值，那么默认值是undefined，而不是null
2. 如果一个函数，没有写return，那么默认return undefined，而不是null
3. 把非对象的空值写成undefined，把对象的空值写成null

### __为什么JS会有两个空值__
JavaScript 的设计者 Brendan Eich，觉得这样做还不够。首先，第一版的 JavaScript 里面，`null`就像在Java 里一样，被当成一个对象，Brendan Eich 觉得表示“无”的值最好不是对象。其次，那时的 JavaScript 不包括错误处理机制，Brendan Eich 觉得，如果`null`自动转为0，很不容易发现错误。因此，他又设计了一个`undefined`。区别是这样的：null是一个表示“空”的对象，转为数值时为0；undefined是一个表示"此处无定义"的原始值，转为数值时为NaN。

`undefined`表示未定义，下面是返回`undefined`的典型场景
```javascript
var i;
i //undefined
//变量声明了，但是没有赋值时

function f(x){
return x;
}
f() // undefined
//调用函数时，应该提供的参数没有提供，该参数就等于 undefined

var o = new Object()
o.p // undefined
//对象没有赋值的属性

function f(){}
f() //undefined
//函数没有返回值的时候，默认返回undefined
```

### __布尔值__
布尔值代表`真`和`假`，真的关键字是`true`,假的关键字是`flase`,布尔值只有这两个值。
下面运行符会返回布尔值：
* 前置逻辑运算符：`!`(Not)
* 相等运算符：`===` `!==` `==` `!=`
* 比较运算符：`>` `>=` `<` `<=`

如果JS预期某个位置应该是布尔值，会将该位置上现有的值自动转为布尔值，转换规则是除了下面六个值被转为`flase`，其他值都是为`true`
* undefined
* null
* flase
* 0
* NaN
* ‘’（空字符串）

## __数值__
javascript内部,所有数字都是以64位浮点数形式储存，即使整数也是如此。`1`和`1.0`是相同的，是同一个数。这就是说，javascript语言的底层根本没有整数，所有的数字都是小数，由于浮点数不是精确的值
```javascript
(0.3 - 0.1) === (0.2 - 0.1)
// flase
```

<div align="center"><img src="./img/img2.png"></div>

第1位：符号位，`0`表示整数，`1`表示负数
第2位到第12位(共11位)：指数部分
第13位到第64位（共56位）：小数部分（有效部分）
符号位决定了一个数是正数还是负数，指数部分决定了数值的大小，小数部分决定了数值的精度。

### __NaN__
含义：NaN是javascript的特殊值，表示非数字(Not a Number)，主要出现在将字符串解析成数字出错的场所。
NaN可以理解成，无法表示的数字。但是他也是个数字，只是我们现在不知道怎么描述的数字。

### __isNaN()__
`isNaN()`方法可以用来判断一个值是否为NaN。

## __字符串__
字符串就是零个或多个排在一起的字符，放在单引号`''`或者双引号`""`之中
单引号字符串内部，可以使用双引号。双引号字符串的内部，可以使用单引号。
如果长字符串必须分成多行，可以在每一行的尾部使用反斜杠。`\`
使用反引号，可以把字符串写成多行。

### __转义__
用另一种写法表示你想要的的东西
* \' 表示`'`
* \" 表示`"`
* \n 表示换行
* \r 表示回车
* \t 表示tab制表符
还有很多转义，用的时候Google就行了

### __属性__
1. `string.length` 可以查看string的长度。
2. `string[index]` 通过下标读取字符串中的某一个字符，下标都是从0开始的

### __Base64转码__
window.btoa("string")
正常的字符串转为base64编码字符串
window.atob("string")
base64编码的字符串转为原来的字符串
## __互相转换__
__number转string__
1. String(n) 
2. n + '' 

__string转number__
1. Number(s)
2. s - 0
3. parsInt("123") 

__任何东西转boole__
1. Boolean(任何东西)
2. !!任何东西

__任何东西转String__
String(任何东西)
任何东西.toString()

## __变量声明__
`let声明`
作用块作用域，不能超过`{}`
不能重复声明
可以赋值，也可以不赋值
必须先声明，在使用
全局声明，不会变成`window`的属性

`const声明`
跟let一样
唯一的区别是声明的时候，必须赋值，赋值以后不能更改

__细节__
变量声明，即给了值，也指定的了类型。
name和"name"的区别
name是一个变量，“name”是一个字符串

(完)

资料参考
1.饥人谷
2.阮一峰网道javascript教程



