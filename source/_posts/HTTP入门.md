---
title: HTTP入门
date: 2020-10-14 13:15:41
tags: HTTP
toc: true
cover: ./img/http.jpg
---

### __什么是WWW__
WWW是李爵士在1990年左右发明的，他由三部分组成，分别是`HTML`、`URL`、`HTTP`
### __URL__
`URL`全称统一资源定位符(Uniform Resource Locator),是`WWW`的一个核心概念，它是浏览器用来检索Web上公布的任何资源的机制。
<!--more-->
<div align="center"><img src="./img/url.jpg"></div>

`URL`由以上几个部分组成，端口默认是不写的，但是要记住HTTP的端口是80，HTTPS的端口是443.
另外需要注意的一点是，锚点`#`不会被上传到服务器，锚点只是浏览器里面的功能。

### __HTTP__
`HTTP`全称超文本传输协议，从字面上就可以知道，它是为了传输`HTML`而生的.`HTTP`是建立在TCP/IP协议上的。
* __TCP/IP协议__
	五层软件模型，分别是物理层、数据链路层、网络层、传输控制层、应用层。如下图所示

<div align="center"><img src="./img/tcpip.png"></div>

<div align="center" style="font-weight:600;color:#ff3333"> 越靠下离物理硬件越近，越靠上离用户就越近。</div>

 * `物理层`:通过光电信号，传输数据
 * `数据链路层`:通过ARP协议获取访问主机的MAC地址。
 *	`网络层`:通过子网掩码判断要访问主机的ip是否处于同一子网，如果是同一个子网内，就进行`广播`,如果不处于同一个子网，就获取下一跳的ip，把数据包丢给下一条的ip，这里的下一条ip，可以理解成网关
 * `传输控制层`:有两个协议，`TCP协议`和`UDP协议`，经常被使用的是`TCP/协议`,因为它是面向连接，可靠的传输协议。
  1. 三次握手
		 ```
			客户端 ----我要建立连接了----> 服务端
			客户端 <----好的我知道了---- 服务端
			客户端 ----好的我也知道了----> 服务端
			完成三次握手后，客户端和服务端 都会为对方开辟一个资源
		 ```
  2. 四次分手
		 ```
		 客户端 ----我要断开连接了----> 服务端
		 客户端 <----好的--- 服务端
		 客户端  <----我也断开连接了---- 服务端
		 客户端 ----好的----> 服务端
		 ```
 * `应用层`:应用层上运行着很多协议，是离客户最近的层，上面运行着`HTTP协议`、`SSH协议`、`HTTPS协议`、`FTP协议`等等
 	以上是从下到上说了每一层的功能，现在有个例子，能更好的理解`TCP/IP`协议，当我们在浏览器输入一个url后，点击回车后发生了什么。
 1.  `应用层`通过DNS服务，得到需要访问rul所对应的IP，告诉下一层`传输控制层`，我要访问这个IP。
 2. `数据传输层`在本地开了一个`随机`端口，并且告诉`网络层`我要进行"三次握手"了，赶紧帮我找到对方主机的位置。
 3. `网络层`拿到对方主机ip，先确定主机的ip是否属于子网内，不属于，就把数据丢给下一跳网关的IP。
 4. `数据链路层` 通过ARP协议，确定对方主机的MAC地址，把对方主机的IP地址和MAC地址封装好，丢给`物理层`
 5. `物理层`通过光信号，把数据传给对方主机。
 6. 对方主机拿到数据，又通过网络层、数据链路层、网络层、把之前封装的数据进行拆解，最后到达`传输控制层`，双方`传输控制层`进行完三次握手后，服务器把客户端请求的东西，发给客户端。
 7. 传输完成后，通过"四次分手"断开连接。

* __端口的规则__
	1. 0-1023端口是留给系统用的，已经被占用，如果我们自己要使用，要从1024开始。
	2. 只有管理员才有权使用留个系统的1024个端口。
	3. 一个端口被占用，就只能使用另外一个端口，总的端口数有0~65535

* __关于域名__
 1. `.com`、`.org`、`.cn` 这些属于顶级域名
 2. baidu.com 、smartisan.com 这些属于二级域名
 3. www.baidu.com 、 www.smartisan.com 这些三级域名。
 4. 其实`www`是多余的，其实是早期为了让用户知道他们在使用的这个东西是`www`才加上的。


* __HTTP请求__
格式：
```
请求动词 路径加查询参数 协议名/版本
Host:访问主机的域名或者/IP 
Accept:text/html   我接受的接受
Content-type:请求体的格式
User-Agent: 用户用什么方式发送的请求
回车
请求体
```
__注意:__
 1. 请求动词有`GET`、`POST`、`PUT`、`PATCH`、`DELETE`等
 2. 请求体在`GET`的时候，一般为空


* __HTTP响应__
```
协议名/版本 状态码 状态字符串
Content-type：响应体的格式
回车
响应体(下载内容)
```
__注意:__ 常见的状态码是考点。[状态码](https://zhuanlan.zhihu.com/p/121168258)

（完）

资料参考：
1.饥人谷
2.阮一峰TCP/IP协议
